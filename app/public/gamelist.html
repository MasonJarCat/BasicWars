<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Gamelist</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

    <h1>Games</h1>

    <p>Your games:</p>

    <div id="gamelist">

    </div>

    <div id="links">
        <a href="./index.html">Back to homepage</a>
    </div>

    <script>
        let games = document.getElementById("gamelist");

        fetch("/games", {
            method: "GET"
        }).then(response => {
            console.log("Data get");
            return response.json();
        }).then(body => {
            if (body.rows.length <= 0){
                console.log("No games found")
            } else {
                for (let i = 0; i < body.rows.length; i++){
                    let gamelink = document.createElement("a");
                    gamelink.textContent = body.rows[i].title;
                    games.append(gamelink);
                }
            }
        });
    </script>
</body>
</html>