<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>lobby</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

    <h1>Welcome to the Lobby</h1>

    <p> Games available to join:</p>

    <div id="gamelist"></div>

    <div id="notloggedin"></div>

</body>

<script>
let gamelist = document.getElementById("gamelist");
let notloggedin = document.getElementById("notloggedin");

const userId = getUserId();

if (userId == null){
    notloggedin.textContent = "Error: You must be logged in to join a game."; 
} else {
    notloggedin,textContent = "";
}

function getUserId() {
    // Example: Retrieve user ID from a cookie, local storage, or a server API call
    const userIdFromCookies = getCookie('userId');
    console.log('User ID from Cookies: ', userIdFromCookies); // Debugging log
    if (userIdFromCookies) {
        return userIdFromCookies;
    }

    const userIdFromLocalStorage = localStorage.getItem('userId');
    console.log('User ID from Local Storage: ', userIdFromLocalStorage); // Debugging log
    if (userIdFromLocalStorage) {
        return userIdFromLocalStorage;
    }

    return null; 
}

 // Helper function to get a cookie by name
 function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) {
        const cookieValue = parts.pop().split(';').shift();
        console.log('Cookie found:', name, '=', cookieValue); // Debugging log
        return cookieValue;
    }
    console.log('Cookie not found:', name); // Debugging log
    return null;
}
</script>